<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>華夫格格管理系統</title>
<!-- 正確的 CDN 載入 -->
<script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<style>
body { font-family: 'Noto Sans TC', sans-serif; background-color: #FDF8F5; margin: 0; padding: 0; }
.no-scrollbar::-webkit-scrollbar { display: none; }
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.receipt-card { background-color: #FDF8F5; padding: 1.5rem; border-radius: 2.5rem; box-shadow: inset 0 2px 10px rgba(0,0,0,0.05); }
.animate-fade { animation: fadeIn 0.3s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
// Firebase 設定（正確格式）
const firebaseConfig = {
  apiKey: "AIzaSyDKid1UpSAI3CGV2P54BRkv8ladJG0Udak",
  authDomain: "waffle-63ce6.firebaseapp.com",
  projectId: "waffle-63ce6",
  storageBucket: "waffle-63ce6.appspot.com",
  messagingSenderId: "889169467838",
  appId: "1:889169467838:web:32045ccf925df38ffac1ef",
  measurementId: "G-QFRWH5NY9C"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const { useState, useMemo, useEffect } = React;

// --- 這裡是你的 React 主程式 ---
// 你可以把你原本的 Icon、flavorNames、extraNames、bankInfo、productCategories、calculatePacking、getDoughDemand、App 組件、UI return 內容全部貼在這裡

// 這裡舉一個最簡單的範例（你可以直接把你原本的 App 組件內容貼進來）：
const App = () => {
  const [orders, setOrders] = useState([]);
  useEffect(() => {
    const unsubscribe = db.collection("orders").orderBy("isoDate", "desc")
      .onSnapshot((snapshot) => {
        const orderList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
        setOrders(orderList);
      });
    return () => unsubscribe();
  }, []);
  return (
    <div>
      <h1 className="text-2xl font-bold text-center mt-8">華夫格格管理系統</h1>
      <div className="max-w-xl mx-auto mt-8">
        {orders.length === 0 && <div className="text-center text-gray-400">目前沒有訂單</div>}
        {orders.map(order => (
          <div key={order.id} className="bg-white rounded-xl p-4 mb-4 shadow">
            <div className="font-bold">{order.name}</div>
            <div>金額：${order.totalAmount}</div>
            <div>時間：{order.timestamp}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
</script>
</body>
</html>
